<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HackingEDU | World's Largest Education Hackathon</title>
    <link rel="icon" href="img/favicon.ico">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link href="css/normalize.css" rel="stylesheet">
    <link href="css/skeleton.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=PT+Sans' rel='stylesheet' type='text/css'>
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body background="img/signup_prism.png">
    <div class="container-fluid col-md-offset-3">
      <h1 style="padding: 1em 2em;">HackingEDU Signup</h1>
      <form id="signup_form" >
        <div class="col-md-7">
          <fieldset class="signup_fieldset active">
            <h2 class="text-center">Account Info</h2>
            <!--
            Below we include the Login Button social plugin. This button uses
            the JavaScript SDK to present a graphical Login button that triggers
            the FB.login() function when clicked.
            -->
            <fb:login-button scope="public_profile,email,user_friends"  data-max-rows="1" data-size="xlarge" data-show-faces="false" data-auto-logout-link="true" onlogin="checkLoginState();"></fb:login-button>
            <div id="status" class="status"></div>
            <div id="fb-root"></div>

            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" class="form-control" id="email" name="email" placeholder="you@youremail.com">
            </div>

            <div class="form-group">
              <label for="password">Password</label>
              <input type="password" class="form-control" id="password" name="password">
            </div>

            <div class="form-group">
              <label for="confirm_password">Confirm Password</label>
              <br><input type="password" class="form-control" id="confirm_password" name="confirm_password" onblur="confirmEmail()">
            </div>

            <a href= "http://www.hackingedu.co"><button type="button" class="substatement se back-btn">Back</button></a>

            <button type="button" class="substatement se next-btn">Next</button>
          </fieldset>

          <fieldset class="signup_fieldset">
            <h2 class="text-center">Who are you?</h2>
            <div class="form-group">
              <label for="firstname">First Name</label>
              <input type="text" class="form-control" id="firstname" name="firstname" placeholder="Hacker">
            </div>

            <div class="form-group">
              <label for="lastname">Last Name</label>
              <input type="text" class="form-control" id="lastname" name="lastname" placeholder="McHackerton">
            </div>

            <div class="form-group">
              <label for="phone">Phone #</label>
              <input type="text" class="form-control" id="phone" name="phone" placeholder="000-111-2222">
            </div>

            <button id="okbutton" >Click to Autofill Location</button>
            <div class="form-group">
              <label for="street">Street Address</label>
              <input type="text" class="form-control" id="street" name="street" placeholder="12345 Test Dr">
            </div>

            <div class="form-inline">
              <div class="form-group">
                <label for="city">City</label>
                <input type="text" class="form-control" id="city" name="city" placeholder="San Francisco">
              </div>

              <div class="form-group">
                <label for="state">State</label>
                <input type="text" class="form-control" id="state" name="state" placeholder="CA">
              </div>

              <div class="form-group">
                <label for="zip">Zip</label>
                <input type="text" class="form-control" id="zip" name="zip" placeholder="94107">
              </div>
            </div>

            <div class="form-group">
              <label for="school">School</label>
              <select class="form-control" name="school" id="school">
                <option value="NA">N/A</option>
                <option value="1">Academy of Art University</option>
                <option value="2">Alliant International University</option>
                <option value="3">American Film Institute Conservatory</option>
                <option value="4">American Jewish University</option>
                <option value="5">Antioch University Los Angeles</option>
                <option value="6">Antioch University Santa Barbara</option>
                <option value="7">Art Center College of Design</option>
                <option value="8">Azusa Pacific University</option>
                <option value="9">Bethesda University of California</option>
                <option value="10">Biola University</option>
                <option value="11">California Baptist University</option>
                <option value="12">California College of the Arts</option>
                <option value="13">California Institute of Integral Studies</option>
                <option value="14">California Institute of Technology</option>
                <option value="15">California Institute of the Arts</option>
                <option value="16">California Lutheran University</option>
                <option value="17">California Maritime Academy</option>
                <option value="18">California Polytechnic State University, San Luis Obispo</option>
                <option value="19">California State Polytechnic University, Pomona</option>
                <option value="20">California State University Channel Islands</option>
                <option value="21">California State University San Marcos</option>
                <option value="22">California State University Stanislaus</option>
                <option value="23">California State University, Bakersfield</option>
                <option value="24">California State University, Chico</option>
                <option value="25">California State University, Dominguez Hills</option>
                <option value="26">California State University, East Bay</option>
                <option value="27">California State University, Fresno</option>
                <option value="28">California State University, Fullerton</option>
                <option value="29">California State University, Long Beach</option>
                <option value="30">California State University, Los Angeles</option>
                <option value="31">California State University, Monterey Bay</option>
                <option value="32">California State University, Northridge</option>
                <option value="33">California State University, Sacramento</option>
                <option value="34">California State University, San Bernardino</option>
                <option value="35">California Western School of Law</option>
                <option value="36">Chapman University</option>
                <option value="37">Charles R. Drew University of Medicine and Science</option>
                <option value="38">Claremont Graduate University</option>
                <option value="39">Claremont McKenna College</option>
                <option value="40">Cogswell Polytechnical College</option>
                <option value="41">Concordia University</option>
                <option value="42">Dominican School of Philosophy and Theology</option>
                <option value="43">Dominican University of California</option>
                <option value="44">Fielding Graduate University</option>
                <option value="45">Frederick S. Pardee RAND Graduate School</option>
                <option value="46">Fresno Pacific University</option>
                <option value="47">Golden Gate University</option>
                <option value="48">Harvey Mudd College</option>
                <option value="49">Holy Names University</option>
                <option value="50">Hope International University</option>
                <option value="51">Humboldt State University</option>
                <option value="52">Humphreys College</option>
                <option value="53">Irell &amp; Manella Graduate School of Biological Sciences</option>
                <option value="54">John F. Kennedy University</option>
                <option value="55">Keck Graduate Institute of Applied Life Sciences</option>
                <option value="56">La Sierra University</option>
                <option value="57">Life Pacific College</option>
                <option value="58">Lincoln University</option>
                <option value="59">Loma Linda University</option>
                <option value="60">Loyola Marymount University</option>
                <option value="61">Marshall B. Ketchum University</option>
                <option value="62">Menlo College</option>
                <option value="63">Mills College</option>
                <option value="64">Mount St. Mary's College</option>
                <option value="65">National University</option>
                <option value="66">Naval Postgraduate School</option>
                <option value="67">Notre Dame de Namur University</option>
                <option value="68">Occidental College</option>
                <option value="69">Otis College of Art and Design</option>
                <option value="70">Pacific Oaks College</option>
                <option value="71">Pacific Union College</option>
                <option value="72">Pacifica Graduate Institute</option>
                <option value="73">Palo Alto University</option>
                <option value="74">Patten University</option>
                <option value="75">Pepperdine University</option>
                <option value="76">Phillips Graduate Institute</option>
                <option value="77">Pitzer College</option>
                <option value="78">Point Loma Nazarene University</option>
                <option value="79">Pomona College</option>
                <option value="80">Saint Mary's College of California</option>
                <option value="81">Samuel Merritt University</option>
                <option value="82">San Diego Christian College</option>
                <option value="83">San Diego State University</option>
                <option value="84">San Francisco Art Institute</option>
                <option value="85">San Francisco Conservatory of Music</option>
                <option value="86">San Francisco State University</option>
                <option value="87">San Joaquin College of Law</option>
                <option value="88">San Jos&eacute; State University</option>
                <option value="89">Santa Clara University</option>
                <option value="90">Saybrook University</option>
                <option value="91">Scripps College</option>
                <option value="92">Simpson University</option>
                <option value="93">Soka University of America</option>
                <option value="94">Sonoma State University</option>
                <option value="95">Southern California Institute of Architecture</option>
                <option value="96">Southwestern Law School</option>
                <option value="97">Stanford University</option>
                <option value="98">The King's University</option>
                <option value="99">The Master's College</option>
                <option value="100">The National Hispanic University</option>
                <option value="101">The University of West Los Angeles</option>
                <option value="102">The Wright Institute</option>
                <option value="103">Thomas Aquinas College</option>
                <option value="104">Thomas Jefferson School of Law</option>
                <option value="105">University of California, Berkeley</option>
                <option value="106">University of California, Davis</option>
                <option value="107">University of California, Hastings College of the Law</option>
                <option value="108">University of California, Irvine</option>
                <option value="109">University of California, Los Angeles</option>
                <option value="110">University of California, Merced</option>
                <option value="111">University of California, Riverside</option>
                <option value="112">University of California, San Diego</option>
                <option value="113">University of California, San Francisco</option>
                <option value="114">University of California, Santa Barbara</option>
                <option value="115">University of California, Santa Cruz</option>
                <option value="116">University of La Verne</option>
                <option value="117">University of Redlands</option>
                <option value="118">University of San Diego</option>
                <option value="119">University of San Francisco</option>
                <option value="120">University of Southern California</option>
                <option value="121">University of the Pacific</option>
                <option value="122">Vanguard University of Southern California</option>
                <option value="123">Western State University College of Law</option>
                <option value="124">Western University of Health Sciences</option>
                <option value="125">Westmont College</option>
                <option value="126">Whittier College</option>
                <option value="127">William Jessup University</option>
                <option value="128">Woodbury University</option>
              </select>
              <label for="other_school">Other School</label>
              <input type="text" placeholder="other" name="school" id="other_school"></input>

              <div class="form-group form-inline">
                <label for="dob-month">Date of Birth (Month, Day, Year)</label>
                <select class="form-control" name="dob-month" id="dob-month">
                  <option value=""></option>
                  <option value="jan">January</option>
                  <option value="feb">February</option>
                  <option value="mar">March</option>
                  <option value="apr">April</option>
                  <option value="may">May</option>
                  <option value="june">June</option>
                  <option value="july">July</option>
                  <option value="aug">August</option>
                  <option value="sep">September</option>
                  <option value="oct">October</option>
                  <option value="nov">November</option>
                  <option value="dec">December</option>
                </select>
                <select class="form-control" name="dob-day">
                  <option value=""></option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
                  <option value="13">13</option>
                  <option value="14">14</option>
                  <option value="15">15</option>
                  <option value="16">16</option>
                  <option value="17">17</option>
                  <option value="18">18</option>
                  <option value="19">19</option>
                  <option value="20">20</option>
                  <option value="21">21</option>
                  <option value="22">22</option>
                  <option value="23">23</option>
                  <option value="24">24</option>
                  <option value="25">25</option>
                  <option value="26">26</option>
                  <option value="27">27</option>
                  <option value="28">28</option>
                  <option value="29">29</option>
                  <option value="30">30</option>
                  <option value="31">31</option>
                </select> 
                <select class="form-control" name="dob-year">
                  <option value=""></option>
                  <option value="2002">2002</option>
                  <option value="2001">2001</option>
                  <option value="2000">2000</option>
                  <option value="1999">1999</option>
                  <option value="1998">1998</option>
                  <option value="1997">1997</option>
                  <option value="1996">1996</option>
                  <option value="1995">1995</option>
                  <option value="1994">1994</option>
                  <option value="1993">1993</option>
                  <option value="1992">1992</option>
                  <option value="1991">1991</option>
                  <option value="1990">1990</option>
                  <option value="1989">1989</option>
                  <option value="1988">1988</option>
                  <option value="1987">1987</option>
                  <option value="1986">1986</option>
                  <option value="1985">1985</option>
                  <option value="1984">1984</option>
                  <option value="1983">1983</option>
                  <option value="1982">1982</option>
                  <option value="1981">1981</option>
                  <option value="1980">1980</option>
                  <option value="1979">1979</option>
                  <option value="1978">1978</option>
                  <option value="1977">1977</option>
                  <option value="1976">1976</option>
                  <option value="1975">1975</option>
                  <option value="1974">1974</option>
                  <option value="1973">1973</option>
                  <option value="1972">1972</option>
                  <option value="1971">1971</option>
                  <option value="1970">1970</option>
                  <option value="1969">1969</option>
                  <option value="1968">1968</option>
                  <option value="1967">1967</option>
                  <option value="1966">1966</option>
                  <option value="1965">1965</option>
                  <option value="1964">1964</option>
                  <option value="1963">1963</option>
                  <option value="1962">1962</option>
                  <option value="1961">1961</option>
                  <option value="1960">1960</option>
                  <option value="1959">1959</option>
                  <option value="1958">1958</option>
                  <option value="1957">1957</option>
                  <option value="1956">1956</option>
                  <option value="1955">1955</option>
                  <option value="1954">1954</option>
                  <option value="1953">1953</option>
                  <option value="1952">1952</option>
                  <option value="1951">1951</option>
                  <option value="1950">1950</option>
                  <option value="1949">1949</option>
                  <option value="1948">1948</option>
                  <option value="1947">1947</option>
                  <option value="1946">1946</option>
                  <option value="1945">1945</option>
                  <option value="1944">1944</option>
                  <option value="1943">1943</option>
                  <option value="1942">1942</option>
                  <option value="1941">1941</option>
                  <option value="1940">1940</option>
                  <option value="1939">1939</option>
                  <option value="1938">1938</option>
                  <option value="1937">1937</option>
                  <option value="1936">1936</option>
                  <option value="1935">1935</option>
                  <option value="1934">1934</option>
                  <option value="1933">1933</option>
                  <option value="1932">1932</option>
                  <option value="1931">1931</option>
                  <option value="1930">1930</option>
                  <option value="1929">1929</option>
                  <option value="1928">1928</option>
                  <option value="1927">1927</option>
                  <option value="1926">1926</option>
                  <option value="1925">1925</option>
                  <option value="1924">1924</option>
                  <option value="1923">1923</option>
                  <option value="1922">1922</option>
                  <option value="1921">1921</option>
                  <option value="1920">1920</option>
                  <option value="1919">1919</option>
                  <option value="1918">1918</option>
                  <option value="1917">1917</option>
                  <option value="1916">1916</option>
                  <option value="1915">1915</option>
                </select>
              </div>
            </div>

            <button type="button" class="substatement se prev-btn">Go Back</button>
            <button type="button" class="substatement se next-btn">Next</button>
          </fieldset>

          <fieldset class="signup_fieldset">
            <div class="form-group">
              <label for="linkedin">*LinkedIn Username</label>
              <input type="text" class="form-control" name="linkedin" id="linkedin">
            </div>

            <div class="form-group">
              <label for="github">*Github Username</label>
              <input type="text" class="form-control" name="github" id="github">
            </div>

            <div class="form-group">
              <label for="twitter">Twitter Username</label>
              <input type="text" class="form-control" name="twitter" id="twitter">
            </div>

            <div class="form-group">
              <label for="challengepost">ChallengePost Username</label>
              <input type="text" class="form-control" name="challengepost" id="challengepost">
            </div>

            <div class="form-group">
              <label for="resume">*Resume/CV (.pdf, .doc, .docx)</label>
              <input type="file" class="form-control" name="resume" id="resume" accept=".doc,.docx,.pdf">
              <input type="hidden" class="form-control" name="resume_file" id="resume_file">
              <input type="hidden" class="form-control" name="resume_file_ex" id="resume_file_ex">
            </div>

            <div class="form-inline">
              <label>*Interested in a job in Tech?</label>
              <select name="job" class="form-control" id="job">
                <option></option>
                <option value="yes">Yes</option>
                <option values="no">No</option>
              </select>
            </div>

            <div class="form-inline">
              <label>*Gender</label>
              <select class="form-control" name="gender" id="gender">
                <option value=""></option>
                <option value="male">He/Him</option>
                <option value="female">She/Her</option>
                <option value="other">They/Them</option>
                <option value="none">Decline to state</option>
              </select>
            </div>

            <br>

            <div class="form-inline">
              <label>*Have you been to a hackathon before?</label>
              <select class="form-control" name="veteran">
                <option value=""></option>
                <option value="yes">Yes</option>
                <option value="no">No</option>
              </select>
            </div>

            <br>

            <div class="row">
              <div class="col-md-4 form-group">
                <label>*What type of hacker are you?</label>
                <div class="radio">
                  <label><input type="radio" name="hacker_type" id="hacker_designer" value="designer">Designer</label>
                  <label><input type="radio" name="hacker_type" id="hacker_developer" value="developer">Developer</label>
                  <label><input type="radio" name="hacker_type" id="hacker_product" value="product">Product</label>
                </div>
              </div>

              <div class="col-md-4 form-group">
                <label>*What programming languages do you use? (Max: 3)</label>
                <div class="checkbox">
                  <label for="javascript">
                    <input type="checkbox" name="language" value="language_javascript" id="javascript">Javascript
                  </label>
                  <label for="sql">
                    <input type="checkbox" name="language" value="language_sql" id="sql">SQL
                  </label>
                  <label for="java">
                    <input type="checkbox" name="language" value="language_java" id="java">Java
                  </label>
                  <label for="c#">
                    <input type="checkbox" name="language" value="language_c#" id="c#">C#
                  </label>
                  <label for="php">
                    <input type="checkbox" name="language" value="language_php" id="php">PHP
                  </label>
                  <label for="python">
                    <input type="checkbox" name="language" value="language_python" id="python">Python
                  </label>
                  <label for="c++">
                    <input type="checkbox" name="language" value="language_c++" id="c++">C++
                  </label>
                  <label for="nodejs">
                    <input type="checkbox" name="language" value="language_nodejs" id="nodejs">Node.js
                  </label>
                  <label for="angularjs">
                    <input type="checkbox" name="language" value="language_angularjs" id="angularjs">AngularJS
                  </label>
                  <label for="ruby">
                    <input type="checkbox" name="language" value="language_ruby" id="ruby">Ruby
                  </label>
                  <label for="objective-c">
                    <input type="checkbox" name="language" value="language_objective-c" id="objective-c">Objective-C
                  </label>
                </div>
              </div>

              <div class="col-md-4 form-group">
                <label>*What do you hack on? (Max: 2)</label>
                <div class="checkbox">
                  <label for="hacker_platform_web">
                    <input type="checkbox" name="hacker_platform" value="web" id="hacker_platform_web">Web
                  </label>
                  <label for="hacker_platform_ios">
                    <input type="checkbox" name="hacker_platform" value="ios" id="hacker_platform_ios">iOS
                  </label>
                  <label for="hacker_platform_android">
                    <input type="checkbox" name="hacker_platform" value="android" id="hacker_platform_android">Android
                  </label>
                  <label for="hacker_platform_hardware">
                    <input type="checkbox" name="hacker_platform" value="hardware" id="hacker_platform_hardware">Hardware
                  </label>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label>*Shirt Size</label>
              <select class="form-control" name="shirt" id="shirt">
                <option value=""></option>
                <option value="XS">XS</option>
                <option value="S">S</option>
                <option value="M">M</option>
                <option value="L">L</option>
                <option value="XL">XL</option>
                <option value="XXL">XXL</option>
              </select>
            </div>

            <div class="form-inline">
              <label>*Will you need transportation? (Bus)</label>
              <select class="form-control" name="bus" id="bus">
                <option value=""></option>
                <option value="yes">Yes</option>
                <option value="no">No</option>
              </select>
              <label>If so, which location?</label>
              <select class="form-control" name="bus_loc" id="bus_loc">
                <option value=""></option>
                <option value="1">UC Berkeley</option>
                <option value="2">UC Davis</option>
                <option value="3">Cal Poly SLO</option>
                <option value="4">UCLA</option>
                <option value="5">USC</option>
                <option value="6">UCSB</option>
                <option value="7">UCSD</option>
                <option value="8">San Jose State University</option>
                <option value="9">UCR</option>
                <option value="10">UCM</option>
                <option value="11">Caltech</option>
                <option value="12">SF State</option>
                <option value="13">UCSC</option>
                <option value="14">UCI</option>

              </select>
            </div>

            <br>

            <div class="form-inline">
              <label>*Dietary Restrictions</label>
              <select class="form-control" name="diet">
                <option value="none">None</option>
                <option value="vegetarian">Vegetarian</option>
                <option value="vegan">Vegan</option>
                <option value="gluten free">Gluten Free</option>
              </select>
            </div>

     <!--        <div class="form-inline">
              <label>TODO: Download the mobile app! (replace with official app dl btns)</label>
              <a href="#ios">iOS</a>
              <a href="#android">Android</a>
            </div> -->

            <label>Follow us!</label>
            <div class="form-inline">
              <span>
                <a href="https://www.facebook.com/hackingedusf" target="rss">
                  <i id="social" class="fa fa-facebook-square fa-3x social-fb"></i>
                </a>
              </span>
              <span>
                <a href="https://twitter.com/hackingedusf" target="rss">
                  <i id="social" class="fa fa-twitter-square fa-3x social-tw"></i>
                </a>
              </span>
              <span>
                <a href="https://instagram.com/hackingedusf" target="rss">
                  <i id="social" class="fa fa-instagram fa-3x social-ig"></i>
                </a>
              </span>
              <span>
                <a href="https://medium.com/@hackingedu/latest" target="_blank">
                  <i id="medium-icon-header" class="fa fa-medium fa-3x"></i>
                </a>
              </span>
            </div>

            <div class="form-group">
              <div class="checkbox">
                <label for="tos">
                  <input type="checkbox" name="tos" id="tos">I agree to the <a href="https://drive.google.com/a/thekao.com/file/d/0BzF-e8GGV_UiOThlSGcxU01lWG8/view?pli=1" target="_blank"> Terms of Service
                  </a>
                </label>
              </div>
            </div>
            <button type="button" class="substatement se prev-btn">Go Back</button>
            <button type="button" id="apply-butt" class="substatement se" style="width: 100%;">Apply</button>
          </fieldset>
      </form>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script>
    var firstname = document.getElementById("firstname");
    var lastname = document.getElementById("lastname");
    var email = document.getElementById("email");
    var gender = document.getElementById("gender");

    // This is called with the results from from FB.getLoginStatus().
    function statusChangeCallback(response) {
      console.log('statusChangeCallback');
      console.log(response);
      // The response object is returned with a status field that lets the
      // app know the current login status of the person.
      // Full docs on the response object can be found in the documentation
      // for FB.getLoginStatus().
      if (response.status === 'connected') {
        // Logged into your app and Facebook.
        testAPI();
      } else if (response.status === 'not_authorized') {
        // The person is logged into Facebook, but not your app.
        document.getElementById('status').innerHTML = 'Please log ' +
          'into this app.';
      } else {
        // The person is not logged into Facebook, so we're not sure if
        // they are logged into this app or not.
        document.getElementById('status').innerHTML = 'Please log ' +
          'into Facebook.';
      }
    }

    // This function is called when someone finishes with the Login
    // Button.  See the onlogin handler attached to it in the sample
    // code below.
    function checkLoginState() {
      FB.getLoginStatus(function(response) {
        statusChangeCallback(response);
      });
    }

    window.fbAsyncInit = function() {
      FB.init({
        appId      : '1541408916127520',
        cookie     : true,  // enable cookies to allow the server to access
                            // the session
        xfbml      : true,  // parse social plugins on this page
        version    : 'v2.3' // use version 2.2
      });

      // Now that we've initialized the JavaScript SDK, we call
      // FB.getLoginStatus().  This function gets the state of the
      // person visiting this page and can return one of three states to
      // the callback you provide.  They can be:
      //
      // 1. Logged into your app ('connected')
      // 2. Logged into Facebook, but not your app ('not_authorized')
      // 3. Not logged into Facebook and can't tell if they are logged into
      //    your app or not.
      //
      // These three cases are handled in the callback function.

      FB.getLoginStatus(function(response) {
        statusChangeCallback(response);
      });

      FB.login(function(response) {
         // handle the response
       }, {scope: 'public_profile,email,user_friends'});
    };

    // Load the SDK asynchronously
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/sdk.js";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

    // Here we run a very simple test of the Graph API after login is
    // successful.  See statusChangeCallback() for when this call is made.
    function testAPI() {
      console.log('Welcome!  Fetching your information.... ');
      FB.api('/me', function(response) {
        console.log('Successful login for: ' + response.name);
        document.getElementById('status').innerHTML =
          'Thanks for logging in, ' + response.name + '!';
        firstname.value = response.first_name;
        lastname.value = response.last_name;
        email.value = response.email;
        gender.value = response.gender;
        console.log(JSON.stringify(response));
      });
    }

    FB.getLoginStatus(function(response) {
      if (response.status === 'connected') {
        console.log(response.authResponse.accessToken);
      }
    });

    FB.api(
    {
      method: 'fql.query',
      query: 'SELECT first_name, last_name, email FROM user WHERE uid= ' + response.authResponse.userID}, function (data) {
      if (data && data[0]) {
        if (data[0].first_name) {
          document.getElementById('firstname').value = data[0].first_name;
        } if (data[0].last_name) {
          document.getElementById('lastname').value = data[0].last_name;
        } if (data[0].email) {
          document.getElementById('email').value = data[0].email;
        }
      }
    });
  </script>

  <script type="text/javascript">
    var street = document.getElementById("street");
    var city = document.getElementById("city");
    var state = document.getElementById("state");
    var zip = document.getElementById("zip");

    function getLocation() {
      try {
        if (navigator.geolocation) {navigator.geolocation.getCurrentPosition(getInfo); }
        else { alert('Geolocation is not supported by this browser.'); }
      } catch(e) { alert('Geolocation is not supported by this browser.'); }
    }

    // Fills out the form
    // https://developers.google.com/maps/documentation/geocoding/
    function fillForm(data) {
      street.value = data.results[0].address_components[0].long_name + " "
                   + data.results[0].address_components[1].long_name;
      city.value = data.results[0].address_components[3].long_name;
      state.value = data.results[0].address_components[5].short_name;
      zip.value = data.results[0].address_components[7].short_name;
    }

    function getInfo(position) {
      latlng =  position.coords.latitude+","+position.coords.longitude;
      request = new XMLHttpRequest();
      request.open('GET', 'http://maps.googleapis.com/maps/api/geocode/json?latlng='+latlng, true);

      request.onload = function() {
        if (request.status == 200 || request.status == 0 ) {
          data = JSON.parse(request.responseText);
          fillForm(data);
        }
        // We reached our target server, but it returned an error
        else { alert("Google Server Request didn't worked"); }
      };

      // There was a connection error of some sort
      request.onerror = function() { alert("Google Server Request didn't worked"); };
      request.send();
    }

    document.getElementById("okbutton").addEventListener("click", getLocation);
  </script>

  <script>
    var allFields = $('fieldset');
    var formPos = 0;
    allFields.hide();
    $(allFields[0]).addClass('active').fadeIn();
    $('fieldset').on('show', function() {
      if ($(this).hasClass('active')) {
        $(this).fadeIn();
      } else {
        $(this).hide();
      }
    });

    $('.next-btn').click(function() {
      var valid = isValidForm($(this).closest("fieldset"), formPos);
      if (valid.result === true) {
        $('.next-btn').parent().removeClass('active').trigger('show');
        $(allFields[++formPos]).addClass('active').trigger('show');
      } else {
        //Do something better
        alert(valid.message);
      }
    });
    $('.prev-btn').click(function() {
      $('.prev-btn').parent().removeClass('active').trigger('show');
      $(allFields[--formPos]).addClass('active').trigger('show');
    });

    // Bind change event to resume input
    $("input#resume").bind("change", function(ev) {
        var file  = ev.target.files[0];    // We're only uploading one file...

        if(file) {
          var reader = new FileReader();
          reader.readAsBinaryString(file); // Convert to base64 string

          reader.onload = function(rev) {
            // Add base64 to #resume_file
            $("input#resume_file").val(btoa(rev.target.result));
            $("input#resume_file_ex").val("." + file.name.split(".").pop());
          }
        }
      }
    );

    $('#apply-butt').click(function(event) {
      event.preventDefault();
      
      var valid = isValidForm($(this).closest("fieldset"), 2);
      if (!valid.result) {
        alert(valid.message);
        return false;
      }
      
      if (!$("input[name='tos']").prop('checked')) {
        alert('You must agree to the Terms of Service to sign up.');
        return false;
      }

      sendForm();
    });


    var sendForm = function() {
      $.ajax('/new_user', {
          type: 'POST',
          datatype: 'json',
          data: $('#signup_form').serialize(),
          success: signupSuccess,
          error: signupFail
      });
    }

    var signupSuccess = function(result) {
      alert(result);
      console.log(result);
      window.location.replace('localhost:8080');
    }

    var signupFail = function(result) {
      alert(result);
      console.log(result);
    }
    
    var isValidForm = function($fieldset, counter) {
      if (counter === 0) {
        if ($fieldset.find("input[name='email']").val() === "" ||
         !(/.+\@.+\.(com|co|org|edu|net)/).test($fieldset.find("input[name='email']").val())) {
          return {
            "result": false,
            "message": "Please enter a valid email."
          };
        }
        if ($fieldset.find("input[name='password']").val() === "") {
          return {
            "result": false,
            "message": "Please enter a password."
          };
        }
        if ($fieldset.find("input[name='confirm_password']").val() === "") {
          return {
            "result": false,
            "message": "Please confirm your password."
          };
        }
        if ($fieldset.find("input[name='password']").val() !== $fieldset.find("input[name='confirm_password']").val()) {
          return {
            "result": false,
            "message": "Passwords do not match."
          };
        }

        if ($fieldset.find("input[name='password']").val().length < 6) {
          return {
            "result": false,
            "message": "Your password must be 6 characters in length or longer."
          };
        }
        return {
          "result": true,
          "message": null
        };
      }
      if (counter === 1) {
        if ($fieldset.find("input[name='firstname']").val() === "") {
          return { 
            "result": false,
            "message": "Please enter a first name." 
          };
        }
        if ($fieldset.find("input[name='lastname']").val() === "") {
          return {
            "result": false,
            "message": "Please enter a last name."
          };
        }
         if ($fieldset.find("input[name='phone']").val() === "") {
          return {
            "result": false,
            "message": "Please enter a phone number."
          };
        }
        if ($fieldset.find("input[name='street']").val() === "") {
          return {
            "result": false,
            "message": "Please enter a street address."
          };
        }
        if ($fieldset.find("input[name='city']").val() === "") {
          return {
            "result": false,
            "message": "Please enter a city."
          };
        }
        if ($fieldset.find("input[name='state']").val() === "") {
          return {
            "result": false,
            "message": "Please enter a state."
          };
        }
        if ($fieldset.find("input[name='zip']").val() === "") {
          return {
            "result": false,
            "message": "Please enter a zip code."
          };
        }
        if ($fieldset.find("select[name='dob-month']").val() === "" ||
          $fieldset.find("select[name='dob-day']").val() === "" ||
          $fieldset.find("select[name='dob-year']").val() === ""
        ) {
          return {
            "result": false,
            "message": "Please enter your date of birth."
          };
        }
        return {
          "result": true,
          "message": null
        };
      }

      if (counter === 2) {
        if ((/((www\.)|(http)s|:\/\/|.com)/).test($fieldset.find("input[name='github']").val())) {
          return {
            "result": false,
            "message": "Please only include your Github username, not the full URL."
          };
        }
        if ((/((www\.)|(http)s|:\/\/|.com)/).test($fieldset.find("input[name='linkedin']").val())) {
          return {
            "result": false,
            "message": "Please only include your Linkedin username, not the full URL."
          };
        }
        if ((/((www\.)|(http)s|:\/\/|.com)/).test($fieldset.find("input[name='challengepost']").val())) {
          return {
            "result": false,
            "message": "Please only include your Challenge Post username, not the full URL."
          };
        }
        if ((/((www\.)|(http)s|:\/\/|.com)/).test($fieldset.find("input[name='twitter']").val())) {
          return {
            "result": false,
            "message": "Please only include your Twitter username, not the full URL."
          };
        }
        if ($fieldset.find("select[name='job']").val() === "") {
          return {
            "result": false,
            "message": "Please select whether you are interested in a tech job of not."
          };
        }
        if ($fieldset.find("select[name='gender']").val() === "") {
          return {
            "result": false,
            "message": "Please select your gender."
          };
        }
        if ($fieldset.find("select[name='veteran']").val() === "") {
          return {
            "result": false,
            "message": "Please select whether you have been to a hackathon before or not."
          };
        }
        if ($fieldset.find("select[name='shirt']").val() === "") {
          return {
            "result": false,
            "message": "Please select your t-shirt size."
          };
        }
        if ($fieldset.find("select[name='bus']").val() === "") {
          return {
            "result": false,
            "message": "Please select whether you need transportation or not."
          };
        }
        if ($fieldset.find("select[name='bus']").val() === "yes" &&
          $fieldset.find("select[name='bus_loc']").val() === "") {
          return {
            "result": false,
            "message": "Please select at which location you will need a bus."
          }
        }
        if ($fieldset.find("input[name='language']:checked").length < 1) {
          return {
            "result": false,
            "message": "Please pick your top programming language."
          }
        }
        if ($fieldset.find("input[name='hacker_platform']:checked").length < 1) {
          return {
            "result": false,
            "message": "Please pick a platform that you enjoy hacking on."
          }
        }
        if ($fieldset.find("input[name='language']:checked").length > 3) {
          return {
            "result": false,
            "message": "Please only pick your top 3 languages."
          }
        }
        if ($fieldset.find("input[name='hacker_platform']:checked").length > 2) {
          return {
            "result": false,
            "message": "Please only pick the top 2 things you hack on."
          }
        }
        return {
          "result": true,
          "message": null
        };
      }
    }
  </script>
  </body>
</html>
